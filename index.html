<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ramen</title>
	<link rel="stylesheet" href="css/style.css">
	<!-- Mobile-related meta tags -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<!-- Google WebFonts -->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="js/cordova-2.5.0.js"></script>
	<script type="text/javascript" src="js/stepper.js"></script>	
	<script type="text/javascript" src="js/setup.js"></script>
	<script type="text/javascript" src="js/login.js"></script>
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/nameprototype.js"></script>
	<script type="text/javascript" src="js/picture.js"></script>
	<script type="text/javascript" src="js/setclickables.js"></script>
	<script type="text/javascript" src="js/routeclickables.js"></script>
    <script type="text/javascript" src="js/myprototypes.js"></script>
    <script type="text/javascript" src="js/createtask.js"></script>
    <script type="text/javascript" src="js/taskdetails.js"></script>
    <script type="text/javascript" src="js/tasklist.js"></script>
    <script type="text/javascript" src="js/heatmap.js"></script>

    <!-- Onload -->
	<script type="text/javascript">
		window.onload = function(){
            screen_width = $(window).width();
            screen_height = $(window).height();
            displayScreen("0");

            /* Hides buttons when keyboard pops up */
            window.addEventListener("resize", function(){
                console.log("resizing");
                if($(window).height()<screen_height){
                    $(".instruction-nav").each(function(){
                        $(this).hide();
                    });
                }
                else{
                    $(".instruction-nav").each(function(){
                        $(this).show();
                    });
                }
            });

            $('.link').on('click', function() {
                url = $(this).attr("rel");
                console.log(url);
                loadURL(url);
            });


		}

        function loadURL(url){
            navigator.app.loadUrl(url, { openExternal:true });
            return false;
        } 
	</script>

</head>
<body>
	<!-- Hidden Image Store
    ========================================================================-->
	<div id="img-store">
	</div>

	<!-- [0] Login
    ========================================================================-->
	<div id="0" class="step">
		<div id="logo-container">
			<div id="logo">
				<img src="img/noun_project_1600.png" alt="Ramen Logo" width="115px" height="100px">
				<div id="logo-text">ramen</div>
			</div>
		</div>

		<div id="login-form">
				<input id="usernameInput" type="text" name="username" placeholder="Username" required></input><br/>
				<input id="passwordInput" type="password" name="password" placeholder="Password" required></input><br/>
				<button type="submit" id="loginButton" class="btn btn-block">Login</button><br/>
		</div>
		
		<div id="login-form-footer">
			Don't have an account? <a onclick="displayScreen('1')"><b>Sign up.</b></a>	
		</div>
	</div>



	<!-- [1] Register
    ========================================================================-->
	<div id="1" class="step">
	    <div id="logo-container">
	        <div id="logo">
	            <img src="img/noun_project_1600.png" alt="Ramen Logo" width="115px" height="100px">
	            <div id="logo-text">ramen</div>
	        </div>
	    </div>

	    <div id="login-form">
	            <input id="usernameInput" type="text" name="username" placeholder="Username" required></input><br/>
	            <input id="passwordInput" type="password" name="password" placeholder="Password" required></input><br/>
	            <button type="submit" id="registerButton" class="btn btn-block">Register</button><br/>
	    </div>
	    
	    <div id="login-form-footer">
	        Already have an account? <a onclick="displayScreen('0')"><b>Log in.</b></a>  
	    </div>
	</div>


	<!-- [2] Home
    ========================================================================-->
	<div id="2" class="step">
		<div id="home-buttons">
		<div class="home-row">
			<div class="home-icon">
				<a onclick="displayScreen('3')">
					<img src="img/noun_project_3927.png" width="100px" height="100px">
					<p>Create</p>
				</a>
			</div>

			<div class="home-icon">
				<a onclick="displayScreen('12')">
					<img src="img/noun_project_10986.png" width="100px" height="100px">
					<p>	My Prototypes </p>
				</a>
			</div>
		</div>

		<div class="home-row">
			<div class="home-icon">
				<a class="link" href="#" rel="http://www.google.com">
					<img src="img/noun_project_2778.png" width="90px" height="90px" style="margin-bottom:10px">
					<p> Analytics </p>
				</a>
			</div>

			<div class="home-icon">
				<a href="#">
					<img src="img/noun_project_11801.png" width="90px" height="90px" style="margin-bottom:10px">
					<p> Settings </p>
				</a>
			</div>
		</div>
		</div>
	</div>


	<!-- [3] Name Prototype
    ========================================================================-->
    <div id="3" class="step">
        <div class="nav-container">
            <div class="nav"></div>
        </div>
        <div class="nav-spacer-1"></div>
        <div class="headline">
            <h1>0: Name your Prototype</h1>
        </div>
        <div class="description">
            Prototype Name<br/>
            <input id="prototype-name" type="text"></input>
        </div>
        <div class="instruction-nav">
            <button class="btn" onclick="namePrototype()">Next</button>
        </div>
    </div>


    <!-- [4] Add Screen Instructions 
    ========================================================================-->
    <div id="4" class="step">
        <div class="nav-container">
            <div class="nav"></div>
        </div>
        <div class="nav-spacer-1"></div>
        <div class="headline">
            <h1>1: Adding Screens</h1>
        </div>
        <div class="description">
            First, take pictures of your paper protototype screens through Ramen. Make sure the first picture is the "start screen" in your prototype.
        </div>
        <div class="instruction-visual"></div>
        <div class="instruction-nav">
            <button class="btn" onclick="capturePhoto();">Next</button>
        </div>
    </div>

    <!-- [5] Screen Naming 
    ========================================================================-->
    <div id="5" class="step">
        <div class="headline">
            <h1>Screen Captured!</h1>
        </div>

        <div style="text-align:center;">
            <div class="screen-preview-container">
                <img class="screen-preview"></img> 
            </div>
            <div id="screen-name-form-wrapper">
                <div id="screen-name-form">
                    <p>Screen Name</p>
                    <input type="text" id="screen-name" required></input>
                </div>
            </div>
        </div>

        <div class="instruction-nav">
            <button class="btn" onclick="saveAndCapture();">Save and Capture Next Screen</button><br/>
            <button class="btn" onclick="saveAndFinish();">Save and Finish Capturing</button>
        </div>
    </div>


    <!-- [6] Setting Clickable Areas Instructions 
    ========================================================================-->
    <div id="6" class="step">
        <div class="nav-container">
            <div class="nav"></div>
        </div>
        <div class="nav-spacer-1"></div>
        <div class="headline">
            <h1>2: Setting Clickable Areas</h1>
        </div>
        <div class="description">
            For each screen, specify clickable areas for your user. 
        </div>
        <div class="instruction-visual"></div>
        <div class="instruction-nav">
            <button class="btn" onclick="displayScreen('7')">Next</button>
        </div>
    </div>

    <!-- [7] Setting Clickable Areas
    ========================================================================-->
    <div id="7" class="step">
        <div class="nav-container">
            <div class="nav">
                <div class="option-half">
                    <button class="btn" onclick="s.saveScreen();">Save Screen</button>
                </div>
                <div class="option-half">
                    <button class="btn" onclick="s.clearScreen();">Clear Screen</button>
                </div>
            </div>
        </div>
        <div class="nav-spacer-1"></div>
        <canvas id="c-set-clickable-area"></canvas>
    </div>

    <!-- [8] Routing Clickable Areas Instructions 
    ========================================================================-->
    <div id="8" class="step">
        <div class="nav-container">
            <div class="nav"></div>
        </div>
        <div class="nav-spacer-1"></div>
        <div class="headline">
            <h1>3: Routing Clickable Areas</h1>
        </div>
        <div class="description">
            For each screen, identify the destination screen for each clickable area.
        </div>
        <div class="instruction-visual"></div>
        <div class="instruction-nav">
            <button class="btn" onclick="displayScreen('9')">Next</button>
        </div>
    </div>

    <!-- [9] Routing Clickable Areas
    ========================================================================-->
    <div id="9" class="step">
        <div class="nav-container">
            <div class="nav">
                <div class="option-half">
                    <button class="btn" onclick="r.undo();">Undo</button>
                </div>
                <div class="option-half">
                    <button class="btn" onclick="r.next();">Next</button>
                </div>  
            </div>
        </div>
        <div class="nav-spacer-1"></div>
        <canvas id="c-route-clickable-area"></canvas>
        <div id="route-screen-name">This Screen's name</div>
    </div>
    
    
    <!-- [10] Routing List
    ========================================================================-->
    <div id="10" class="step">
        <div class="nav-container">
            <div class="nav">
            </div>
        </div>
        <div class="nav-spacer-1"></div>
        <ul id="route-list">
        	<!--
            <li>
                <a href="">
                    <img class="s" src=""><p>Screen 1</p>
                </a>
            </li><li>
                <a href="">
                    <img class="s" src=""><p>Screen 2</p>
                </a>
            </li><li>
                <a href="">
                    <img class="s" src=""><p>Screen 3</p>
                </a>
            </li><li>
                <a href="">
                    <img class="s" src=""><p>Screen 4</p>
                </a>
            </li>
        	-->
        </ul>
    </div>


    <!-- [11] Done Creating!
    ========================================================================-->
    <div id="11" class="step">
	    <div class="headline">
	        <h1>Prototype Created!</h1>
	    </div>
	    <div class="description">
	        <p>
	            You can access your prototype by visiting the link. Click to copy.
	        </p>
	        <p>
	            <input id="prototype-url" type="url" value=""></input>
	        </p>
	    </div>
	    <div class="instruction-visual"></div>
	    <div class="instruction-nav">
	        <button id="try-created-proto" class="btn link" rel="">Try it now</button>
	        <button class="btn" onclick="displayScreen(2);">Home</button>
	    </div>
	</div>

   <!-- [12] My Prototypes
    ========================================================================-->
    <div id="12" class="step">
        <div class="nav-container">
            <div class="nav">
                My Prototypes
                <button class="btn" onclick="displayScreen(2);">Home</button>
            </div>
        </div>
        <div class="nav-spacer-1"></div>
        <ul id="prototype-list">
        </ul>
    </div>


    <!-- [13] Prototype Options
    ========================================================================-->
    <div id="13" class="step">
        <div class="nav-container">
            <div class="nav">
                Prototype Name Here
            </div>
        </div>
        <div class="nav-spacer-1"></div>
        <div id="prototype-options">
            <!-- Include? -->
            <button class="btn">View Prototype Info</button><br/><br/>
            <button class="btn" onclick="displayScreen('17')">View Tasks</button><br/><br/>
            <button class="btn" onclick="displayScreen('14')">Add a Task</button><br/><br/>
        </div>
    </div>


    <!-- [14] Create Task
    ========================================================================-->
    <div id="14" class="step">
        <div class="nav-container">
            <div class="nav">Prototype Name Here</div>
        </div>
        <div class="nav-spacer-1"></div>
        <div id="create-task">
            <p>
                Name <br/>
                <input id="taskNameInput" type="text" name="username"required></input><br/>
            </p>

            <p>
            Description<br/>
            <textarea id="taskDescInput" type="password" name="description" rows="4"></textarea><br/>
            </p>

            <p>
            Start Screen<br/>
            <select id="startScreenInput">
                <!--
                <option value="screen_id">Screen 1</option>
                <option value="screen_id">Screen 2</option>
                <option value="screen_id">Screen 3</option>
                <option value="screen_id">Screen 4</option>
                -->
            </select>
            </p>


            <p>
            End Screen<br/>
            <select id="endScreenInput">
                <!--
                <option value="screen_id">Screen 1</option>
                <option value="screen_id">Screen 2</option>
                <option value="screen_id">Screen 3</option>
                <option value="screen_id">Screen 4</option>
                -->
            </select>
            </p>
            
            <p>
                You can use Mechanical Turk to easily deploy this task to the masses. Use the button below to toggle Turk options.<br/>
                <button class="btn" id="turkToggleBtn" onclick="toggleTurkOptions()">Enable Turk</button>
            </p>

            <p class="turk">
                Reward on Completion<br/>
                $<input id="turkReward" type="number"></input>
            </p>

            <p class="turk">
                Max Participants<br/>
                <input id="turkMax" type="number"></input>
            </p>


            <p>
                <button class="btn" onclick="createTask()">Create Task</button>
            </p>
        </div>
    </div>


    <!-- [15] Task Created!
    ========================================================================-->
    <div id="15" class="step">
        <div class="nav-container">
            <div class="nav">Task Name Here</div>
        </div>
        <div class="nav-spacer-1"></div>

        <div class="headline">
            <h1>Task Created!</h1>
        </div>
        <div class="description">
            You can preview the task, or view its details.
        </div>
        <div class="instruction-nav">
            <button id="try-created-task" class="btn link" rel="">Preview Task</button>
            <button class="btn" onclick="displayScreen('16')">View Task Details</button>
        </div>
    </div>



    <!-- [16] Task Details
    ========================================================================-->
    <div id="16" class="step">
        <div class="nav-container">
            <div class="nav">Task Name Here</div>
        </div>
        <div class="nav-spacer-1"></div>
        
        <p>
            <b>Task Name:</b><br/>
            <div id="taskName"></div>
        </p>
        <p>
            <b>Description:</b><br/>
            <div id="taskDesc"></div>
        </p>
        <p>
            <b>Start Screen:</b><br/>
            <div id="taskStartScreen"></div>
        </p>
        <p>
            <b>End Screen:</b><br/>
            <div id="taskEndScreen"></div>
        </p>    

        <!-- Add Turk info here --> 

        <div class="instruction-nav">
            <button class="btn" onclick="#">Preview Task</button>
            <button class="btn" onclick="displayScreen('18')">View Analytics</button>
        </div>

    </div>


    <!-- [17] Task List
    ========================================================================-->
    <div id="17" class="step">
        <div class="nav-container">
            <div class="nav">Task Name Here</div>
        </div>
        <div class="nav-spacer-1"></div>
        <ul id="task-list">
        </ul>
        
    </div>


    <!-- [18] Analytics
    ========================================================================-->
    <div id="18" class="step">
        <div class="nav-container">
            <div class="nav">Task Name Here</div>
        </div>
        <div class="nav-spacer-1"></div>
        

        <p>
            <b>Screen Touch Distribution</b><br/>
            <select id="heatmapScreenSelect">
                <!--
                <option value="screen_id">Screen 1</option>
                <option value="screen_id">Screen 2</option>
                <option value="screen_id">Screen 3</option>
                <option value="screen_id">Screen 4</option>
                -->
            </select>
            <button>Get Heatmap</button>
            <canvas>

            </canvas>
        </p>
        <p>
            <b>Questionnaire Results:</b><br/>
        </p>    

        <!-- Add Turk info here --> 
        
    </div>

</body>
</html>